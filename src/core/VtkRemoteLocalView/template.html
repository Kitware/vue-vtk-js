<div style="position:relative;width:100%;height:100%;z-index:0;">
  <vtk-sync-view
    :viewId="viewId"
    :wsClient="wsClient"
    ref="localView"
    :style="localStyle"

    :camera="camera"
    :interactorEvents="interactorEvents"
    :interactorSettings="interactorSettings"
    :contextName="contextName"
    :boxSelection="boxSelection"

    :viewState="scene"

    @resetCamera="trigger(cameraKey, [$refs.localView.getCamera()])"
    @beforeSceneLoaded="localRenderingReady = false"
    @onReady="localRenderingReady = $event"

    @BoxSelection="$emit('BoxSelection', $event)"
    @StartAnimation="$emit('StartAnimation', $event)"
    @Animation="$emit('Animation', $event)"
    @EndAnimation="trigger(cameraKey, [$refs.localView.getCamera()]); $emit('EndAnimation', $event)"
    @MouseEnter="$emit('MouseEnter', $event)"
    @MouseLeave="$emit('MouseLeave', $event)"
    @StartMouseMove="$emit('StartMouseMove', $event)"
    @MouseMove="$emit('MouseMove', $event)"
    @EndMouseMove="$emit('EndMouseMove', $event)"
    @LeftButtonPress="$emit('LeftButtonPress', $event)"
    @LeftButtonRelease="$emit('LeftButtonRelease', $event)"
    @MiddleButtonPress="$emit('MiddleButtonPress', $event)"
    @MiddleButtonRelease="$emit('MiddleButtonRelease', $event)"
    @RightButtonPress="$emit('RightButtonPress', $event)"
    @RightButtonRelease="$emit('RightButtonRelease', $event)"
    @KeyPress="$emit('KeyPress', $event)"
    @KeyDown="$emit('KeyDown', $event)"
    @KeyUp="$emit('KeyUp', $event)"
    @StartMouseWheel="$emit('StartMouseWheel', $event)"
    @MouseWheel="$emit('MouseWheel', $event)"
    @EndMouseWheel="$emit('EndMouseWheel', $event)"
    @StartPinch="$emit('StartPinch', $event)"
    @Pinch="$emit('Pinch', $event)"
    @EndPinch="$emit('EndPinch', $event)"
    @StartPan="$emit('StartPan', $event)"
    @Pan="$emit('Pan', $event)"
    @EndPan="$emit('EndPan', $event)"
    @StartRotate="$emit('StartRotate', $event)"
    @Rotate="$emit('Rotate', $event)"
    @EndRotate="$emit('EndRotate', $event)"
    @Button3D="$emit('Button3D', $event)"
    @Move3D="$emit('Move3D', $event)"
    @StartPointerLock="$emit('StartPointerLock', $event)"
    @EndPointerLock="$emit('EndPointerLock', $event)"
    @StartInteraction="$emit('StartInteraction', $event)"
    @Interaction="$emit('Interaction', $event)"
    @EndInteraction="$emit('EndInteraction', $event)"
  >
    <slot></slot>
  </vtk-sync-view>
  <vtk-remote-view
    :viewId="viewId"
    :wsClient="wsClient"
    ref="remoteView"
    :style="remoteStyle"
    :visible="mode === 'remote' || !localRenderingReady"

    @onEndAnimation="trigger(cameraKey)"

    :interactiveRatio="interactiveRatio"
    :interactiveQuality="interactiveQuality"
    :stillRatio="stillRatio"
    :stillQuality="stillQuality"
    :boxSelection="boxSelection"
    :enablePicking="enablePicking"

    @BoxSelection="$emit('BoxSelection', $event)"
  />

</div>
